<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>刘宇航个人学术主页</title>

  <link rel="stylesheet" href="https://unpkg.com/modern-normalize/modern-normalize.css" />
  
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      line-height: 1.6;
      color: #333;
      background-color: #fff;
      transition: background-color 0.3s, color 0.3s;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    .card {
      background: #fff;
      border-radius: 8px;
      padding: 30px;
      margin: 30px 0;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      border: 1px solid #e0e0e0;
    }
    
    .btn {
      display: inline-block;
      padding: 10px 20px;
      background: #0074D9;
      color: white;
      text-decoration: none;
      border-radius: 5px;
      margin: 5px;
      transition: background 0.3s;
    }
    
    .btn:hover {
      background: #0056b3;
    }
    
    .btn-outline {
      background: transparent;
      border: 2px solid #0074D9;
      color: #0074D9;
    }
    
    .btn-outline:hover {
      background: #0074D9;
      color: white;
    }
    
    .btn-small {
      padding: 5px 10px;
      font-size: 14px;
      background: white;
      color: #0074D9;
      border: none;
      border-radius: 3px;
      cursor: pointer;
    }
    
    .typing {
      overflow: hidden;
      border-right: 2px solid #0074D9;
      white-space: nowrap;
      animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
    }
    
    @keyframes typing {
      from { width: 0 }
      to { width: 100% }
    }
    
    @keyframes blink-caret {
      from, to { border-color: transparent }
      50% { border-color: #0074D9; }
    }
    
    body.dark-theme {
      background-color: #1a1a1a;
      color: #fff;
    }
    
    body.dark-theme .card {
      background: #2d2d2d;
      border-color: #444;
    }
    
    body.dark-theme .btn-outline {
      color: #fff;
      border-color: #fff;
    }
    
    nav a {
      color: white;
      text-decoration: none;
      margin: 0 12px;
      font-weight: bold;
      transition: color 0.2s;
    }
    
    nav a:hover {
      color: yellow;
    }

    #graph {
      width: 100%;
      height: 500px;
      border: 1px solid #ccc;
      margin: 40px 0;
      background: #f8f9fa;
    }
    
    body.dark-theme #graph {
      background: #2d2d2d;
      border-color: #444;
    }
    
    .profile-img {
      max-width: 250px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    
    @media (max-width: 768px) {
      .header-row {
        flex-direction: column;
        text-align: center;
      }
      
      .hero {
        flex-direction: column;
      }
      
      .hero-left, .hero-right {
        padding: 10px 0;
        text-align: center;
      }
      
      nav {
        margin: 15px 0;
      }
      
      .profile-img {
        max-width: 200px;
      }
    }
  </style>

  <script src="https://unpkg.com/cytoscape@3.26.0/dist/cytoscape.min.js"></script>
</head>
<body>
  <header class="site-header" style="background:#0074D9; padding: 10px 0;">
    <div class="container header-row" style="display:flex; align-items:center; justify-content:space-between; padding:0 20px;">
      <h1 class="logo" style="color:white;">刘宇航</h1>
      <nav class="nav">
        <a href="#about">关于我</a>
        <a href="#projects">项目与论文</a>
        <a href="#kg">医学知识图谱</a>
        <a href="#contact">联系</a>
      </nav>
      <button id="themeToggle" class="btn-small">切换暗色</button>
    </div>
  </header>

  <main class="container">
    <section id="hero" class="hero" style="display:flex; margin:40px 0;">
      <div class="hero-left" style="flex:1; padding-right:20px;">
        <h2 class="typing">}}}}============你好，我是刘宇航============}>></h2>
        <p>专业：医学影像学</p>
        <div class="hero-buttons">
          <a class="btn" href="#kg">查看知识图谱</a>
          <a class="btn btn-outline" href="#projects">查看项目</a>
        </div>
      </div>
      <div class="hero-right" style="flex:1; text-align:center;">
        <img id="profilePhoto" class="profile-img" src="assets/photo.png" alt="个人照片" onerror="this.src='https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=250&h=300&fit=crop&crop=face'" />
      </div>
    </section>

    <section id="about" class="card">
      <h3>关于我</h3>
      <p>我是一名本科生。</p>
    </section>

    <section id="projects" class="card">
      <h3>项目与论文</h3>
      <p>...</p>
    </section>

    <section id="kg" class="card">
      <h3>医学知识图谱</h3>
      <div id="graph"></div>
    </section>

    <section id="contact" class="card">
      <h3>联系我</h3>
      <p>邮箱：Yuhang63513@163.com</p>
      <p>GitHub：<a href="https://github.com/Yuhang63513" target="_blank">github.com/Yuhang63513</a></p>
    </section>
  </main>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // 主题切换功能
      const themeToggle = document.getElementById('themeToggle');
      if (themeToggle) {
        themeToggle.addEventListener('click', () => {
          document.body.classList.toggle('dark-theme');
          themeToggle.textContent = document.body.classList.contains('dark-theme') 
            ? '切换亮色' 
            : '切换暗色';
        });
      }

      // Cytoscape 知识图谱配置
      let cy = cytoscape({
        container: document.getElementById('graph'),
        elements: [
          // 中心节点
          { data: { id: 'center', label: '医学影像学' } },
          
          // 其他节点
          { data: { id: 'MRI', label: 'MRI' } },
          { data: { id: 'T1', label: 'T1 加权' } },
          { data: { id: 'T2', label: 'T2 加权' } },
          { data: { id: 'FLAIR', label: 'FLAIR' } },
          { data: { id: 'Diffusion', label: '扩散加权' } },

          // 所有节点连接到中心点
          { data: { id: 'center2MRI', source: 'center', target: 'MRI' } },
          { data: { id: 'center2T1', source: 'center', target: 'T1' } },
          { data: { id: 'center2T2', source: 'center', target: 'T2' } },
          { data: { id: 'center2FLAIR', source: 'center', target: 'FLAIR' } },
          { data: { id: 'center2Diffusion', source: 'center', target: 'Diffusion' } }
        ],
        style: [
          {
            selector: 'node',
            style: {
              'shape': 'rectangle',
              'width': 120,
              'height': 120,
              'label': 'data(label)',
              'text-valign': 'bottom',
              'text-halign': 'center',
              'color': '#333',
              'background-fit': 'cover',
              'background-color': '#e3f2fd',
              'border-width': 2,
              'border-color': '#0074D9',
              'font-size': '14px',
              'font-weight': 'bold'
            }
          },
          {
            selector: '#center',
            style: {
              'shape': 'ellipse',
              'width': 80,
              'height': 80,
              'background-color': '#0074D9',
              'color': 'white',
              'font-size': '16px',
              'text-valign': 'center',
              'border-width': 4,
              'border-color': '#0056b3'
            }
          },
          {
            selector: 'edge',
            style: {
              'width': 3,
              'line-color': '#0074D9',
              'target-arrow-color': '#0074D9',
              'target-arrow-shape': 'triangle',
              'curve-style': 'bezier'
            }
          },
          {
            selector: 'node:selected',
            style: {
              'border-width': 4,
              'border-color': '#ff6b6b'
            }
          }
        ],
        layout: { 
          name: 'circle', // 使用圆形布局
          padding: 50,
          animate: true,
          animationDuration: 1000,
          avoidOverlap: true,
          nodeDimensionsIncludeLabels: true,
          spacingFactor: 1.5,
          radius: 200
        }
      });

      // 为节点设置背景图片
      cy.style()
        .selector('#MRI')
        .style('background-image', 'images/mri.png')
        .update();
      
      cy.style()
        .selector('#T1')
        .style('background-image', 'images/t1.png')
        .update();
      
      cy.style()
        .selector('#T2')
        .style('background-image', 'images/t2.png')
        .update();
      
      cy.style()
        .selector('#FLAIR')
        .style('background-image', 'images/flair.png')
        .update();
      
      cy.style()
        .selector('#Diffusion')
        .style('background-image', 'images/diffusion.png')
        .update();

      // 图片加载测试
      console.log('开始测试图片加载...');
      const testImages = [
        'images/mri.png',
        'images/t1.png', 
        'images/t2.png',
        'images/flair.png',
        'images/diffusion.png'
      ];

      testImages.forEach(src => {
        const img = new Image();
        img.onload = () => console.log(`✅ 图片加载成功: ${src}`);
        img.onerror = () => console.log(`❌ 图片加载失败: ${src} - 请检查文件路径和名称`);
        img.src = src;
      });

      // 点击节点高亮
      cy.on('tap', 'node', function(evt){
        let node = evt.target;
        cy.elements().style('opacity', 0.3);
        node.style('opacity', 1);
        node.connectedEdges().style('opacity', 1);
      });

      // 点击空白区域重置
      cy.on('tap', function(evt){
        if(evt.target === cy) {
          cy.elements().style('opacity', 1);
        }
      });

      // 鼠标悬停效果
      cy.on('mouseover', 'node', function(evt){
        evt.target.style('border-color', '#ff6b6b');
      });

      cy.on('mouseout', 'node', function(evt){
        if(!evt.target.selected()){
          evt.target.style('border-color', '#0074D9');
        }
      });
    });
  </script>
</body>

</html>

